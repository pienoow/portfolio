<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Portfolio Thijs</title>
    <link rel="icon" href="https://glitch.com/favicon.ico" />

    <!-- Dynamische stylesheet afhankelijk van omgeving -->

    <script>
      const isLocal =
        location.hostname === "localhost" ||
        location.hostname === "127.0.0.1" ||
        location.protocol === "file:";

      // Bepaal of je in een submap zit (zoals /projects/)
      const pathParts = location.pathname.split("/").filter(Boolean);
      const isInSubFolder = pathParts.includes("projects");

      // Dynamisch basispad
      const basePath = isLocal ? (isInSubFolder ? "../" : "./") : "/portfolio/";

      // Dynamische stylesheet
      const link = document.createElement("link");
      link.rel = "stylesheet";
      link.href = isLocal ? basePath + "style.css" : "/portfolio/style.css";
      document.head.appendChild(link);

      // Navigatielinks aanpassen
      document.addEventListener("DOMContentLoaded", () => {
        document.querySelector("header h1 a").href = basePath + "index.html";
        document.querySelectorAll("nav a")[0].href = basePath + "over.html";
        document.querySelectorAll("nav a")[1].href = basePath + "contact.html";
      });
    </script>
  </head>

  <body id="project-page">
    <header>
      <h1><a href="/index.html">thijs de boer</a></h1>
      <nav>
        <ul>
          <li><a href="/over.html">over mij</a></li>
          <li><a href="/contact.html">contact</a></li>
        </ul>
      </nav>
    </header>

    <main>
      <section id="project">
        <div class="project-layout"></div>
      </section>
    </main>
  </body>
</html>

<script>
  document.querySelectorAll(".slideshow-container").forEach((container) => {
    const slides = container.querySelectorAll(".slide");
    const dotsContainer = container.querySelector(".dots-container");
    const prevBtn = container.querySelector(".prev");
    const nextBtn = container.querySelector(".next");
    let index = 0;
    let interval;

    // Als er dots zijn, pak ze op
    let dots = [];
    if (dotsContainer) {
      dots = Array.from(dotsContainer.querySelectorAll(".dot"));
    }

    function showSlide(i) {
      slides.forEach((slide, idx) => {
        slide.classList.toggle("active", idx === i);
      });

      dots.forEach((dot, idx) => {
        dot.classList.toggle("active", idx === i);
      });

      index = i;
    }

    function nextSlide() {
      index = (index + 1) % slides.length;
      showSlide(index);
    }

    function prevSlide() {
      index = (index - 1 + slides.length) % slides.length;
      showSlide(index);
    }

    function resetInterval() {
      clearInterval(interval);
      interval = setInterval(nextSlide, 4000);
    }

    // Init
    showSlide(index);
    interval = setInterval(nextSlide, 4000);

    // Knoppen
    if (nextBtn)
      nextBtn.addEventListener("click", () => {
        nextSlide();
        resetInterval();
      });

    if (prevBtn)
      prevBtn.addEventListener("click", () => {
        prevSlide();
        resetInterval();
      });

    // Dots aanklikbaar maken
    dots.forEach((dot, i) => {
      dot.addEventListener("click", () => {
        showSlide(i);
        resetInterval();
      });
    });
  });
</script>

<script
  type="module"
  src="https://unpkg.com/@google/model-viewer/dist/model-viewer.min.js"
></script>

<script
  nomodule
  src="https://unpkg.com/@google/model-viewer/dist/model-viewer-legacy.js"
></script>

<script>
  document.addEventListener("DOMContentLoaded", function () {
    const parallaxImages = document.querySelectorAll(".parallax-x-img");

    function updateParallax() {
      parallaxImages.forEach((img) => {
        const container = img.closest(".parallax-container");
        const containerRect = container.getBoundingClientRect();

        if (
          containerRect.top < window.innerHeight &&
          containerRect.bottom > 0
        ) {
          const scrollFraction = containerRect.top / window.innerHeight;
          const translateAmount = scrollFraction * -50; // Pas dit aan voor intensiteit
          img.style.transform = `rotate(90deg) translateY(${translateAmount}px)`;
        } else {
          img.style.transform = "rotate(90deg)";
        }
      });
    }

    updateParallax();

    window.addEventListener("scroll", updateParallax);
  });
</script>

<script>
  window.addEventListener("scroll", () => {
    const img = document.querySelector(".parallax-x-img");
    if (img) {
      const scrollY = window.scrollY;
      const offset = scrollY * 0.2; // Pas deze waarde aan voor snelheid
      img.style.transform = `translateX(${-offset}px)`;
    }
  });
</script>

<script>
  const marqueeWrapper = document.querySelector(".marquee-wrapper");
  const marqueeTrack = document.querySelector(".marquee-track");

  let speed = 1.5; // standaard snelheid
  let position = 0;
  let hovering = false;

  function animate() {
    position += speed;
    marqueeTrack.style.transform = `translateX(${-position}px)`;

    // Reset positie als het einde bereikt is (loop-effect)
    if (position >= marqueeTrack.scrollWidth / 2) {
      position = 0;
    }

    requestAnimationFrame(animate);
  }

  marqueeWrapper.addEventListener("mouseenter", () => {
    speed = 0.4; // langzamer bij hover
  });

  marqueeWrapper.addEventListener("mouseleave", () => {
    speed = 1.5; // terug naar normaal
  });

  animate(); // start de animatie
</script>
